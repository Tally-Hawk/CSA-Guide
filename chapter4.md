# Introduction to Bash Scripting
### (Conditional Execution) ุงุฌุฑุง ุดุฑุท

ุงู ุตูุญู ุจู ุตูุฑุช ุนูู ู ุชุตูุฑ ุจู ุขููุฒุด **ุงุฌุฑุง ุดุฑุท** ุฏุฑ ุงุณฺฉุฑูพุชโููุณ ุจุด ูโูพุฑุฏุงุฒุฏ. ูุฏู ุงุตู ุงู ุฏุฑุณุ ุงุฏฺฏุฑ ฺฺฏููฺฏ ฺฉูุชุฑู ุฌุฑุงู ุงุฌุฑุง ุงุณฺฉุฑูพุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุฏุณุชูุฑุงุช `if`ุ `elif`ุ `else` ู ุชุฑฺฉุจ ุขูโูุง ุจุง ุนููฺฏุฑูุง ููุงุณู ุงุณุช.

ุงุฌุฑุง ุดุฑุท ฺฉ ุงุฒ ูููโุชุฑู ุจุฎุดโูุง ุจุฑูุงููโููุณ ุงุณุชุ ุจุฏูู ุขูุ ุงุณฺฉุฑูพุช ููุท ูโุชูุงูุฏ ุฏุณุชูุฑุงุช ุฑุง ุจูโุชุฑุชุจ ุงุฒ ุจุงูุง ุจู ูพุงู ุงุฌุฑุง ฺฉูุฏ ู ูฺ ุงูุนุทุงู ุฏุฑ ุชุตููโฺฏุฑ ูุฏุงุฑุฏ. ุฏุฑ ุงู ุฏุฑุณ ุจุง ูุซุงูโูุง ูุงูุน ู ุฎุฑูุฌโูุง ุฑูฺฏ ุชุฑููุงูุ ุชูุงู ููุงูู ุจูโุตูุฑุช ฺฏุงูโุจูโฺฏุงู ุชูุถุญ ุฏุงุฏู ุดุฏูโุงูุฏ.

### **ููุงูู ฺฉูุฏ ฺฉู ุฏุฑ ุงู ุฏุฑุณ ุงุฏ ูโฺฏุฑุฏ**

- **ุดุจูฺฏ (Shebang)** ุฏุฑ ูุงูุน ุชุฑฺฉุจ ุงุฒ ุฏู ฺฉุงุฑุงฺฉุชุฑ # ู ! ุงุณุช ฺฉู ุฏููุงู ุฏุฑ ุฎุท ุงูู ฺฉ ูุงู ุงุณฺฉุฑูพุช ูุฑุงุฑ ูโฺฏุฑุฏ ู ุจู ุณุณุชูโุนุงูู ูููฺฉุณ/ููฺฉุณ ูโฺฏูุฏ:
ยซุงู ูุงู ฺฉ ุงุณฺฉุฑูพุช ุงุณุช ู ุจุงุฏ ุจุง ฺู ุจุฑูุงููโุง (ููุณุฑ ุง Interpreter) ุงุฌุฑุง ุดูุฏยป.

`#!/bin/bash`

- **ูุชุบุฑูุง ูฺู (Special Parameters)**  
  ```bash
  $0  โ ูุงู ุงุณฺฉุฑูพุช
  $#  โ ุชุนุฏุงุฏ ุขุฑฺฏููุงูโูุง ูุฑูุฏ
  $1, $2, ... โ ุขุฑฺฏููุงูโูุง ุงููุ ุฏูู ู ...
  ```

- **ุนููฺฏุฑูุง ุชุณุช (Test Operators)**  
  ```bash
  [ $# -eq 0 ]      โ ุขุง ูฺ ุขุฑฺฏููุงู ุฏุงุฏู ูุดุฏูุ
  [ "$var" -gt 10 ] โ ุขุง ููุฏุงุฑ ุนุฏุฏ ุจุฒุฑฺฏุชุฑ ุงุฒ ฑฐ ุงุณุชุ
  [ -z "$var" ]     โ ุขุง ุฑุดุชู ุฎุงู ุงุณุชุ
  ```

- **ุณุงุฎุชุงุฑ ฺฉุงูู ุฏุณุชูุฑ `if`**  
  ```bash
  if [ ุดุฑุท ]; then
      ุฏุณุชูุฑุงุช ุฏุฑ ุตูุฑุช ุฏุฑุณุช ุจูุฏู
  elif [ ุดุฑุท ุฏูู ]; then
      ุฏุณุชูุฑุงุช
  else
      ุฏุณุชูุฑุงุช ุฏุฑ ุตูุฑุช ุฏุฑุณุช ูุจูุฏู ููู ุดุฑุทโูุง
  fi
  ```
  ูฺฉุชู ููู: ุจุนุฏ ุงุฒ `[` ู ูุจู ุงุฒ `]` ุญุชูุงู ูุงุตูู (space) ูุงุฒู ุงุณุช!

### **ูุซุงูโูุง ุนูู ุฏุฑุณ (ุจุง ุชูุถุญุงุช ุจุดุชุฑ)**

#### 1. **ุจุฑุฑุณ ูุฌูุฏ ุขุฑฺฏููุงู (Script.sh)**
```bash
#!/bin/bash
if [ $# -eq 0 ]; then
    echo "You need to specify the target domain."
    echo "Usage:"
    echo -e "\t$0 <domain>"
    exit 1
else
    domain=$1
fi
```
ุงู ฺฉุฏ ฺฺฉ ูโฺฉูุฏ ฺฉู ุขุง ฺฉุงุฑุจุฑ ุฏุงููู ุฑุง ูุงุฑุฏ ฺฉุฑุฏู ุง ูู. ุงฺฏุฑ ููุ ูพุงู ุฎุทุง ุฎูุงูุง ููุงุด ูโุฏูุฏ ู ุจุง ฺฉุฏ ุฎุฑูุฌ ฑ (ุฎุทุง) ุงุณฺฉุฑูพุช ุฑุง ูุชููู ูโฺฉูุฏ.

#### 2. **If-Only.sh โ ููุท ฺฉ ุดุฑุท**
```bash
if [ $value -gt 10 ]; then
    echo "Given argument is greater than 10."
fi
```
ุงฺฏุฑ ุดุฑุท ุฏุฑุณุช ุจุงุดุฏ ุงุฌุฑุง ูโุดูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุช ูฺ ฺฉุงุฑ ููโฺฉูุฏ.

#### 3. **If-Else.sh โ ุฏู ุญุงูุช**
```bash
if [ $value -gt 10 ]; then
    echo "Greater than 10"
else
    echo "10 or less"
fi
```

#### 4. **If-Elif-Else.sh โ ฺูุฏู ุดุฑุท**
```bash
if [ $value -gt 10 ]; then
    echo "Given argument is greater than 10."
elif [ $value -lt 10 ]; then
    echo "Given argument is less than 10."
else
    echo "Given argument is not a number."
fi
```

#### 5. **ฺูุฏ ุดุฑุท ุชุฑฺฉุจ ูุงูุน (Several Conditions)**
```bash
if [ $# -eq 0 ]; then
    echo "No domain given"
    exit 1
elif [ $# -eq 1 ]; then
    domain=$1
else
    echo "Too many arguments given."
    exit 1
fi
```
ุงู ุงูฺฏู ุฏุฑ ุงุณฺฉุฑูพุชโูุง ุญุฑููโุง ุจุณุงุฑ ุฑุงุฌ ุงุณุช: ุฏููุงู ฺฉ ุขุฑฺฏููุงู ูโุฎูุงููุ ูู ฺฉูุชุฑ ู ูู ุจุดุชุฑ.

### **ุฌูุนโุจูุฏ ู ูฺฉุงุช ูพุดุฑูุชู ุงุถุงู**

- ููุดู ุงุฒ ูููโููู ุฏูุฑ ูุชุบุฑูุง ุงุณุชูุงุฏู ฺฉูุฏ: `[ "$var" = "something" ]` ุชุง ุงุฒ ุฎุทุงูุง ูุงุฎูุงุณุชู ุฌููฺฏุฑ ุดูุฏ.
- ุจุฑุง ููุงุณู ุฑุดุชูโูุง ุงุฒ `=` ุง `==` ู ุจุฑุง ุงุนุฏุงุฏ ุงุฒ `-eq`, `-ne`, `-lt`, `-gt`, `-le`, `-ge` ุงุณุชูุงุฏู ฺฉูุฏ.
- ูโุชูุงูุฏ ฺูุฏู ุดุฑุท ุฑุง ุจุง `&&` (ู) ู `||` (ุง) ุชุฑฺฉุจ ฺฉูุฏ:
  ```bash
  if [ $# -eq 1 ] && [ -n "$1" ]; then
  ```
- ุจุฑุง ุฎูุงูุง ุจุดุชุฑุ ุงุฒ ุณุงุฎุชุงุฑ `[[ ]]` (bash-only) ุงุณุชูุงุฏู ฺฉูุฏ ฺฉู ูุงุฒ ุจู ูููโููู ุงุฌุจุงุฑ ูุฏุงุฑุฏ.


## **ุขุฑฺฏููุงูโูุง (Arguments)**ุ **ูุชุบุฑูุง (Variables)** ู **ุขุฑุงูโูุง (Arrays)**

#### **ุจุฎุด ุงูู: ุขุฑฺฏููุงูโูุง ุฎุท ูุฑูุงู (Arguments)**
ุฏุฑ ุงู ุจุฎุด ุชูุถุญ ูโุฏูุฏ ฺฉู ุฏุฑ ุจุด ูโุชูุงูู ุชุง **น ุขุฑฺฏููุงู** ุฑุง ูุณุชููุงู ุจุง ูุชุบุฑูุง ุฎุงุต `$1` ุชุง `$9` ุฏุฑุงูุช ฺฉูู (`$0` ูู ูุงู ุฎูุฏ ุงุณฺฉุฑูพุช ุงุณุช).  
ุจุฑุง ุฏุณุชุฑุณ ุจู ุขุฑฺฏููุงูโูุง ุจุดุชุฑ ุงุฒ น ุชุง (ูุซูุงู `$10` ุจู ุจุนุฏ) ุจุงุฏ ุงุฒ `${10}` ุงุณุชูุงุฏู ฺฉูู ฺูู `$10` ุจู ุงุดุชุจุงู ุจู `$1` + `0` ุชูุณุฑ ูโุดูุฏ.

**ูุซุงู ุนูู ุงุฑุงุฆู ุดุฏู:**
```bash
./script.sh ARG1 ARG2 ... ARG1000
```
ุณูพุณ ฺฉ ุงุณฺฉุฑูพุช ูุงูุน ุจู ูุงู `cidr.sh` ูุดุงู ูโุฏูุฏ ฺฉู ฺฺฏููู ุจุฑุฑุณ ฺฉูู ุขุง ุขุฑฺฏููุงู ุฏุงุฏู ุดุฏู ุง ูู:
```bash
#!/bin/bash
if [ $# -eq 0 ]; then
    echo "You need to specify the target domain."
    echo "Usage: $0 <domain>"
    exit 1
else
    domain=$1
fi
```
ููฺูู ูุญูู ุงุนุทุง ูุฌูุฒ ุงุฌุฑุง ุจุง `chmod +x cidr.sh` ู ุงุฌุฑุง ุงุณฺฉุฑูพุช ุฑุง ูุดุงู ูโุฏูุฏ.

#### **ุจุฎุด ุฏูู: ูุชุบุฑูุง ุฎุงุต (Special Variables)**
ุฌุฏูู ููู ุงุฒ ูุชุบุฑูุง ูฺู ุจุด ุงุฑุงุฆู ุดุฏู ุงุณุช:

| ูุชุบุฑ ุฎุงุต | ุชูุถุญ |
|-----------|-------|
| `$#`      | ุชุนุฏุงุฏ ุขุฑฺฏููุงูโูุง ุงุฑุณุงู |
| `$@`      | ุชูุงู ุขุฑฺฏููุงูโูุง ุจู ุตูุฑุช ูุณุช |
| `$*`      | ุชูุงู ุขุฑฺฏููุงูโูุง ุจู ุตูุฑุช ฺฉ ุฑุดุชู |
| `$1`, `$2`, ... | ุขุฑฺฏููุงูโูุง ุงููุ ุฏูู ู ... |
| `$$`      | PID ูพุฑูุณู ุฌุงุฑ |
| `$?`      | ูุถุนุช ุฎุฑูุฌ ุขุฎุฑู ุฏุณุชูุฑ (0 = ููููุช) |

**ูฺฉุชู ููู:** ุฏุฑ ุงุณฺฉุฑูพุช `cidr.sh` ุงุฒ `$#` ุจุฑุง ฺฺฉ ฺฉุฑุฏู ุชุนุฏุงุฏ ุขุฑฺฏููุงูโูุง ู ุงุฒ `$0` ุฏุฑ ูพุงู Usage ุงุณุชูุงุฏู ุดุฏู ุงุณุช.

#### **ุจุฎุด ุณูู: ูุชุบุฑูุง (Variables)**
ุชูุงูุช ููู ุจู **ุงุนูุงู** ู **ุงุณุชูุงุฏู** ุงุฒ ูุชุบุฑูุง:
```bash
domain=$1          # ุงุนูุงู โ ุจุฏูู $ ู ุจุฏูู ูุงุตูู ุงุทุฑุงู =
echo $domain       # ุงุณุชูุงุฏู โ ุจุง $
echo ${domain}     # ุฑูุด ุจูุชุฑ ู ุงููโุชุฑ
```
ูุดุฏุงุฑ ููู: ุฏุฑ ุจุด **ูฺ ููุน ุฏุงุฏูโุง (type) ูุฌูุฏ ูุฏุงุฑุฏ**ุ ููู ฺุฒ ุจู ุตูุฑุช ุฑุดุชู (string) ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูโุดูุฏ.  
ููฺูู ุงฺฏุฑ ูุงุตูู ุฏุฑ ุงุนูุงู ูุชุบุฑ ุจฺฏุฐุงุฑุฏ ุฎุทุง ูโฺฏุฑุฏ:
```bash
# ุงุดุชุจุงู
variable = "test"    โ command not found

# ุฏุฑุณุช
variable="test"
```

#### **ุจุฎุด ฺูุงุฑู: ุขุฑุงูโูุง (Arrays)**
ุฏุฑ ุจุด ุฏู ููุน ุขุฑุงู ุฏุงุฑู ุงูุง ุฏุฑ ุงู ุฏุฑุณ ููุท ุงุฒ **ุขุฑุงูโูุง ุงูุฏุณโุฏุงุฑ (indexed arrays)** ุงุณุชูุงุฏู ุดุฏู:
```bash
#!/bin/bash
domains=(www.inlanefreight.com ftp.inlanefreight.com vpn.inlanefreight.com www2.inlanefreight.com)

echo ${domains[0]}    # โ www.inlanefreight.com
echo ${domains[3]}    # โ www2.inlanefreight.com
echo ${domains[@]}    # ุชูุงู ุนูุงุตุฑ ุขุฑุงู
echo ${#domains[@]}   # ุชุนุฏุงุฏ ุนูุงุตุฑ ุขุฑุงู
```
**ูฺฉุงุช ฺฉูุฏ ุขุฑุงูโูุง:**
- ุงูุฏุณ ุงุฒ ุตูุฑ ุดุฑูุน ูโุดูุฏ.
- ุจุฑุง ุฏุณุชุฑุณ ุจู ุนูุงุตุฑ ุจุงุฏ ุงุฒ `{}` ุงุณุชูุงุฏู ฺฉูู: `${domains[3]}`
- ุงฺฏุฑ ููุฏุงุฑ ุฏุงุฎู ุขุฑุงู ูุงุตูู ุฏุงุดุชู ุจุงุดุฏ ู ุฏุงุฎู ฺฉูุชุดู ูุจุงุดุฏุ ุจู ฺูุฏ ุนูุตุฑ ุฌุฏุง ูโุดูุฏ.
- ุจุฑุง ฺุงูพ ููุฏุงุฑ ฺูุงุฑู (ุนู `www2.inlanefreight.com`) ุฏุณุชูุฑ ุตุญุญ ุงู ุงุณุช:
```bash
echo ${domains[3]}
```



## ุนููฺฏุฑูุง ููุงุณูโุง (Comparison Operators)

#### ฑ. ุงููุงุน ุนููฺฏุฑูุง ููุงุณู ุฏุฑ Bash
ุชู Bash ุณู ุฏุณุชู ุงุตู ุนููฺฏุฑ ููุงุณู ุฏุงุฑู ฺฉู ุจุงุฏ ุฏูู ุจุฏูู ฺฉุฌุง ุงุฒ ฺฉุฏูู ุงุณุชูุงุฏู ฺฉู:

| ููุน ุฏุงุฏู        | ุฏุงุฎู `[ ]` (ุชฺฉ ฺฉุฑูุดู)                  | ุฏุงุฎู `[[ ]]` (ุฏุงุจู ฺฉุฑูุดู)               | ุชูุถุญ ููู                                  |
|------------------|------------------------------------------|-------------------------------------------|---------------------------------------------|
| **ุฑุดุชู (String)** | `==`  `!=`  `<`  `>`                    | `==`  `!=`  `<`  `>`  `=~` (regex)        | ุจุฑุง `<` ู `>` ุญุชูุงู ุจุงุฏ ุงุฒ `[[ ]]` ุงุณุชูุงุฏู ฺฉู |
| **ุนุฏุฏ ุตุญุญ (Integer)** | `-eq` `-ne` `-lt` `-le` `-gt` `-ge` | ูููโูุง + ูโุชูู ุงุฒ `(( ))` ูู ุงุณุชูุงุฏู ฺฉู | ุฏุงุฎู `[ ]` ููุท ุงู ุดฺฉู ฺฉุงุฑ ูโฺฉูู         |
| **ูุงู (File)**  | `-e` `-f` `-d` `-r` `-w` `-x` ู โฆ      | ููุงูโูุง                                   | ุจุฑุง ฺฺฉ ฺฉุฑุฏู ูุฌูุฏุ ููุน ู ุฏุณุชุฑุณ ูุงู       |

**ูฺฉุชู ุญุงุช:** ููุดู ุขุฑฺฏููุงูโูุง ุฑู ุชู ฺฉูุชุดู ุจุฐุงุฑ `"$1"` ูฺฏุฑูู ุงฺฏู ุฎุงู ุจุงุดู ุงุณฺฉุฑูพุชุช ฺฉุฑุด ูโฺฉูู!

#### ฒ. ุนููฺฏุฑูุง ุฑุดุชู (String Operators)
```bash
"$1" == "Arash"     # ุจุฑุงุจุฑ ุจุงุดู
"$1" != "something"      # ูุงุจุฑุงุจุฑ ุจุงุดู
[[ "$1" < "m" ]]          # ฺฉูฺฺฉุชุฑ ุงุฒ m ุฏุฑ ุชุฑุชุจ ASCII (ููุท ุฏุงุฎู [[ ]])
[[ "$1" > "M" ]]          # ุจุฒุฑฺฏุชุฑ ุงุฒ M
-z "$1"                   # ุฎุงู ุจุงุดู (zero = ุทูู ุตูุฑ)
-n "$1"                   # ุฎุงู ูุจุงุดู (non-zero)
```

**ูุซุงู ูุงูุน:**
```bash
#!/bin/bash
if [[ "$1" == "Arash" ]]; then
    echo "ุฏุฑุณุช ูุงุฑุฏ ุดุฏ!"
else
    echo "ุจุฑู ุฏูุจุงุฑู ุจุฎูู!"
    exit 1
fi
```

#### ณ. ุนููฺฏุฑูุง ุนุฏุฏ (Integer Operators) โ ููุท ุฏุงุฎู `[ ]` ุง `(( ))`
```bash
[ "$#" -eq 1 ]    # ุฏููุงู ฺฉ ุขุฑฺฏููุงู ุฏุงุฏู ุดุฏู
[ "$#" -ne 0 ]    # ุญุฏุงูู ฺฉ ุขุฑฺฏููุงู ุฏุงุฏู ุดุฏู
[ "$1" -lt 100 ]  # ุนุฏุฏ ฺฉูฺฺฉุชุฑ ุงุฒ ฑฐฐ
[ "$1" -gt 10 ]   # ุนุฏุฏ ุจุฒุฑฺฏุชุฑ ุงุฒ ฑฐ
[ "$1" -le 50 ]   # ฺฉูฺฺฉุชุฑ ูุณุงู ตฐ
[ "$1" -ge 20 ]   # ุจุฒุฑฺฏุชุฑ ูุณุงู ฒฐ
```

**ูุซุงู:**
```bash
#!/bin/bash
if [ "$1" -eq 1337 ]; then
    echo "ุนุฏุฏ ูุช ูุณุช!"
else
    echo "ุงู ฺฉู ูุช ูุณุช :("
fi
```

#### ด. ุนููฺฏุฑูุง ูุงู (File Operators) โ ุฎู ุชู CTF ู Pentest ุจู ุฏุฑุฏ ูโุฎูุฑู
```bash
-e "/tmp/flag"     # ูุงู ูุฌูุฏ ุฏุงุฑูุ
-f "/tmp/flag"     # ูุงู ูุนูููู (ูู ุฏุงุฑฺฉุชูุฑ)ุ
-d "/home/user"    # ุฏุงุฑฺฉุชูุฑูุ
-r "/etc/shadow"   # ูุงุจู ุฎููุฏููุ
-w "/tmp/test"     # ูุงุจู ููุดุชููุ
-x "/usr/bin/nc"   # ูุงุจู ุงุฌุฑุงุณุชุ
-s "/tmp/flag"     # ุณุงุฒุด ุจุฒุฑฺฏุชุฑ ุงุฒ ุตูุฑูุ (ุนู ุฎุงู ูุณุช)
```

**ูุซุงู ุชุฑฺฉุจ ูุงูุน:**
```bash
if [ -f "$1" ] && [ -r "$1" ] && [ -s "$1" ]; then
    echo "ูุงู ูุฌูุฏ ุฏุงุฑูุ ูโุชููู ุจุฎูููุด ู ุฎุงู ูู ูุณุช!"
    cat "$1"
else
    echo "ูุดฺฉู ุฏุงุฑ ุจุงูุงุด!"
fi
```

#### ต. ุนููฺฏุฑูุง ููุทู (Logical Operators)
```bash
!               # ููุถ (NOT)
&&              # ู (AND) โ ุฏุงุฎู [ ] ูโุชูู -a ูู ุจููุณ
||              # ุง (OR)  โ ุฏุงุฎู [ ] ูโุชูู -o ูู ุจููุณ
```

**ุจูุชุฑู ุฑูุด (ูุฏุฑู ู ุงูู):**
```bash
[[ -f "$1" && -r "$1" ]] && cat "$1"   # ุงฺฏุฑ ูุงู ุจุงุดู ู ูุงุจู ุฎููุฏู
[[ -z "$1" || "$1" == "secret" ]] && echo "ูุฑูุฏ ูุฌุงุฒ!"
```


## ุนููุงุช ุฑุงุถ (Arithmetic Operations)** ุฏุฑ Bash 
ูุฏู ุงู ุตูุญู ุขููุฒุด ุณุงุฏู ู ฺฉุงุฑุจุฑุฏ ุนููฺฏุฑูุง ุฑุงุถ ู ูุญููโ ุงุณุชูุงุฏู ุงุฒ ุขูโูุง ุฏุฑ ุงุณฺฉุฑูพุชโููุณ ุงุณุช.

### **ุนููฺฏุฑูุง ุฑุงุถ ุงุตู ุฏุฑ Bash**

ุฏุฑ ุงู ุตูุญู ฺฉ ุฌุฏูู ฺฉุงูู ุงุฒ ุนููฺฏุฑูุง ุฑุงุถ ุขูุฑุฏู ุดุฏู ุงุณุช:

| ุนููฺฏุฑ         | ุชูุถุญุงุช                     |
|---------------|-----------------------------|
| `+`           | **ุฌูุน**                     |
| `-`           | **ุชูุฑู**                   |
| `*`           | **ุถุฑุจ**                     |
| `/`           | **ุชูุณู** (ุนุฏุฏ ุตุญุญ)        |
| `%`           | **ุจุงูโูุงูุฏู (Modulus)**    |
| `variable++`  | **ุงูุฒุงุด ููุฏุงุฑ ูุชุบุฑ ุจู ููุฏุงุฑ ฑ** (post-increment) |
| `variable--`  | **ฺฉุงูุด ููุฏุงุฑ ูุชุบุฑ ุจู ููุฏุงุฑ ฑ** (post-decrement)   |

ูฺฉุชู ููู: ุจุฑุง ุงูุฌุงู ูุญุงุณุจุงุช ุฑุงุถ ุฏุฑ Bash ุจุงุฏ ุงุฒ ุณุงุฎุชุงุฑูุง ุฒุฑ ุงุณุชูุงุฏู ฺฉูุฏ:
- `$(( expression ))` โ ุฑุงุฌโุชุฑู ุฑูุด
- `$(())` ุจุฑุง ุงูุฒุงุด/ฺฉุงูุด ูุชุบุฑูุง
- `let` (ูุฏูโุชุฑ)

### **ููููู ุงุณฺฉุฑูพุช Arithmetic.sh**

ฺฉ ุงุณฺฉุฑูพุช ฺฉุงูู ุขูุฑุฏู ุดุฏู ฺฉู ูููโ ุงู ุนููฺฏุฑูุง ุฑุง ูุดุงู ูโุฏูุฏ:

```bash
#!/bin/bash

increase=1
decrease=1

echo "Addition: 10 + 10 = $(($10 + 10))"
echo "Subtraction: 10 - 10 = $(10 - 10))"
echo "Multiplication: 10 * 10 = $(10 * 10))"
echo "Division: 10 / 10 = $(10 / 10))"
echo "Modulus: 10 % 4 = $(10 % 4))"

((increase++))
echo "Increase variable: $increase"   # ุฎุฑูุฌ: 2

((decrease--))
echo "Decrease variable: $decrease"   # ุฎุฑูุฌ: 0
```

### **ูุญุงุณุจู ุทูู ูุชุบุฑ (Variable Length)**

ุฏุฑ ุงูุชูุง ุตูุญู ฺฉ ุชุฑููุฏ ุฌุงูุจ ูู ุขููุฒุด ุฏุงุฏู ุดุฏู:

```bash
#!/bin/bash
htb="Arash"
echo ${#ash}    # ุฎุฑูุฌ: 10
```

`${#variable}` ุชุนุฏุงุฏ ฺฉุงุฑุงฺฉุชุฑูุง ุฏุงุฎู ฺฉ ูุชุบุฑ ุฑุดุชูโุง ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.

### **ฺฉุงุฑุจุฑุฏ ูุงูุน: ุงุณฺฉุฑูพุช CIDR.sh**

ุฏุฑ ุขุฎุฑ ุตูุญู ุจู ฺฉ ุงุณฺฉุฑูพุช ูุงูุนโุชุฑ ุงุดุงุฑู ูโฺฉูุฏ ฺฉู ุงุฒ `++` ู `--` ุจุฑุง ฺฉูุชุฑู ุญููู ุงุณุชูุงุฏู ฺฉุฑุฏู. ุจุฎุด ููู ฺฉุฏ:

```bash
stat=1
while [ $stat -eq 1 ]; do
    ping -c 2 $host > /dev/null 2>&1
    if [ $? -eq 0 ]; then
        echo "$host is up."
        ((hosts.up++))
    else
        echo "$host is down."
    fi
    ((stat--))   # ุงูุฌุง ุญููู ููุท ฺฉ ุจุงุฑ ุงุฌุฑุง ูโุดูุฏ
    ((hosts.total++))
done
```

ุงู ุชฺฉูฺฉ ุฎู ุฑุงุฌ ุงุณุช: ุจุง `stat--` ูุทูุฆู ูโุดูู ุญููู `while` ููุท ฺฉุจุงุฑ ุงุฌุฑุง ุดูุฏ (ุจู ุฌุง ููุดุชู `break`).

**ุฎูุงุตูโ ูฺฉุงุช ููู ุงู ุตูุญู ุจุฑุง ุชู:**
- ููุดู ุงุฒ `$(( ))` ุจุฑุง ูุญุงุณุจุงุช ุฑุงุถ ุงุณุชูุงุฏู ฺฉู.
- `((var++))` ู `((var--))` ุณุงุฏูโุชุฑู ุฑุงู ุงูุฒุงุด/ฺฉุงูุด ูุชุบุฑ ุงุณุช.
- `${#var}` ุจุฑุง ฺฏุฑูุชู ุทูู ุฑุดุชู ุฎู ฺฉุงุฑุจุฑุฏ ุงุณุช (ูุซูุงู ุฏุฑ password cracking ุง brute-force).
- ุฏุฑ ุงุณฺฉุฑูพุชโูุง ูุงูุนุ ุงุฒ `++` ู `--` ุจุฑุง ุดูุงุฑุดฺฏุฑูุง ู ฺฉูุชุฑู ุญูููโูุง ุฒุงุฏ ุงุณุชูุงุฏู ูโุดูุฏ.

ุงู ุตูุญู ฺฉ ุงุฒ ูพุงูโุงโุชุฑู ูุจุงุญุซ Bash Scripting ุฏุฑ ูุณุฑ ูพูุชุณุช ุงุณุช. ุงฺฏุฑ ุงู ุจุฎุด ุฑุง ฺฉุงูู ูุณูุท ุจุงุดุ ุจููโ ุงุณฺฉุฑูพุชโููุณ (ุญูููโูุงุ ุดุฑุทโูุงุ ุชูุงุจุน) ุฎู ุฑุงุญุชโุชุฑ ูโุดูุฏ! ๐

## **ฺฉูุชุฑู ูุฑูุฏ ู ุฎุฑูุฌ ุฏุฑ ุงุณฺฉุฑูพุชโููุณ Bash**

ุงู ุตูุญู ุฏุฑ ููุฑุฏ ุฏู ููุถูุน ุฎู ููู ู ฺฉุงุฑุจุฑุฏ ุฏุฑ ููุดุชู ุงุณฺฉุฑูพุชโูุง ุญุฑููโุง ุตุญุจุช ูโฺฉูู: **ฺฉูุชุฑู ูุฑูุฏ ฺฉุงุฑุจุฑ (Input Control)** ู **ฺฉูุชุฑู ุฎุฑูุฌ ููุฒูุงู ุฑู ุตูุญู ู ูุงู (Output Control)**. ูุฏู ุงูู ฺฉู ุงุณฺฉุฑูพุชโูุงููู ุชุนุงููุ ููุดููุฏ ู ูุงุจูโุงุณุชูุงุฏู ุฏุฑ ุฏูุง ูุงูุน ุจุดู.

#### **ูุณูุช ุงูู: Input Control โ ููู ู ุชุตููโฺฏุฑ ุฏุณุช**
ููุช ุงุณฺฉุฑูพุช ุฏุงุฑู ุงุฌุฑุง ูโฺฉููุ ุฎู ููุชโูุง ููโุฎูุงู ูููโฺุฒ ุฎูุฏฺฉุงุฑ ูพุด ุจุฑู. ูุซูุงู ุจุนุฏ ุงุฒ ูพุฏุง ฺฉุฑุฏู ฺูุฏ IP ุง ุฏุงูููุ ูโุฎูุงู ุฎูุฏููู ุชุตูู ุจฺฏุฑู ฺฉู ยซููุท ุฑูุฌ ุดุจฺฉู ุฑู ุจุจููยปุ ยซูุงุณุชโูุง ุฑู ูพูฺฏ ฺฉููยป ุง ยซููู ฺฉุงุฑูุง ุฑู ุงูุฌุงู ุจุฏูยป. ุจุฑุง ุงู ฺฉุงุฑ ุงุฒ ุชุฑฺฉุจ ุฒุฑ ุงุณุชูุงุฏู ูโฺฉูู:

```bash
echo -e "Additional options available:"
echo -e "(1) Identify the corresponding network range of target domain."
echo -e "(2) Ping discovered hosts."
echo -e "(3) All checks."
echo -e "(x) Exit\n"

read -p "Select your option: " opt   # ูุฑูุฏ ุฑู ูููู ุฎุท ูโฺฏุฑู

case $opt in
    1) network_range ;;
    2*) ping_host ;;                  # ุญุช ุงฺฏุฑ 22 ูู ุจุฒููุ ฺฏุฒูู 2 ุงุฌุฑุง ูุดู
    3*) network_range && ping_host ;;
    *) exit 0 ;;
esac
```

ุงู ุณุงุฎุชุงุฑ ุจุงุนุซ ูุดู ุงุณฺฉุฑูพุช **ูุชููู ุจุดู ู ููุชุธุฑ ุฏุณุชูุฑ ูุง ุจูููู**ุ ุจุนุฏ ุจุฑ ุงุณุงุณ ุงูุชุฎุงุจููู ุชุงุจุน ููุงุณุจ ุฑู ุตุฏุง ุจุฒูู. ุฎู ุชูุฒ ู ุญุฑููโุง!

#### **ูุณูุช ุฏูู: Output Control โ ูู ุจุจููุ ูู ุฐุฎุฑู ฺฉูู ุจุง tee**
ูุดฺฉู ุฑุฏุงุฑฺฉุช ูุนููู (`> file.txt`) ุงูู ฺฉู ุฎุฑูุฌ ุฑู ููุท ุชู ูุงู ูโูุฑุณุชู ู ูุง ุฑู ุชุฑููุงู ฺุฒ ููโุจูู. ููุช ุงุณฺฉุฑูพุช ฺูุฏ ุฏููู ุทูู ูโฺฉุดูุ ููโุฎูุงู ููุท ููุชุธุฑ ุจูููู! ุงูุฌุง ุงุจุฒุงุฑ ุฌุงุฏู `tee` ูุงุฑุฏ ูุดู:

```bash
# ูุซุงู ฑ: ุฎุฑูุฌ whois ุฑู ูู ูุดูู ุจุฏู ูู ุจู ุขุฎุฑ ูุงู ุงุถุงูู ฺฉู
whois $ip | grep "NetRange" | tee -a CIDR.txt

# ูุซุงู ฒ: IPูุง ูพุฏุง ุดุฏู ุงุฒ host ุฑู ูู ูุดูู ุจุฏู ูู ุชู ูุงู ุฐุฎุฑู ฺฉู
host $domain | grep "has address" | cut -d " " -f4 | tee discovered_hosts.txt
```

- ฺฏุฒูู `-a` ุง `--append` ุจุงุนุซ ูุดู ูุงู **overwrite ูุดู** ู ููุท ุจู ุขุฎุฑุด ุงุถุงูู ุจุดู  
- ุฎุฑูุฌ ูู ุฑู ุตูุญู ููุงุด ุฏุงุฏู ูุดู ูู ุชู ูุงู ุฐุฎุฑู ูุดู โ ุจูุชุฑู ุฏู ุฏูุง ุฑู ุจุง ูู ุฏุงุฑู!

**ูุชุฌู ููุง ุฏุฑ ูุงูโูุง:**
```bash
$ cat discovered_hosts.txt
165.22.119.202

$ cat CIDR.txt
NetRange:      165.22.0.0 - 165.22.255.255
CIDR:          165.22.0.0/16
```

**ุฎูุงุตู ฺฉูุงู:**  
ุจุง ุชุฑฺฉุจ `read + case` ูโุชูู ุงุณฺฉุฑูพุชโูุง **ุชุนุงูู ู ููุดููุฏ** ุจุณุงุฒุ ู ุจุง `tee -a` ูโุชูู ุฎุฑูุฌโูุง ุฑู **ููุฒูุงู ุจุจูู ู ุฐุฎุฑู ฺฉูู** ุจุฏูู ุงูฺฉู ฺุฒ ุงุฒ ุฏุณุช ุจุฑู. ุงู ุฏู ุชฺฉูฺฉ ุชูุฑุจุงู ุชู ูุฑ ุงุณฺฉุฑูพุช ูุงูุน reconnaissanceุ automation ุง toolูุง ูพูุชุณุช ุงุณุชูุงุฏู ูุดู. ุญุชูุงู ุชู ุงุจุฒุงุฑูุง ุฎูุฏุช ุงุฒุดูู ุงุณุชูุงุฏู ฺฉู! ๐ฅ

## **ฺฉูุชุฑู ุฌุฑุงู ุฏุฑ ุงุณฺฉุฑูพุชโููุณ (Flow Control - Loops)**

ุฏุฑ ุงุณฺฉุฑูพุชโููุณ ุจุงุดุ **ฺฉูุชุฑู ุฌุฑุงู** ฺฉ ุงุฒ ูููโุชุฑู ุจุฎุดโูุงุณุช ฺฉู ุจู ูุง ุงุฌุงุฒู ูโุฏู ุชุง ฺฉุฏ ุฑู ููุดููุฏุงููโุชุฑ ู ฺฉุงุฑุขูุฏุชุฑ ุงุฌุฑุง ฺฉูู. ุฏู ููุน ุงุตู ุณุงุฎุชุงุฑ ฺฉูุชุฑู ุฏุงุฑู: **ุดุงุฎูโูุง (Branches)** ู **ุญูููโูุง (Loops)**. ุดุงุฎูโูุง ุดุงูู `if-else` ู `case` ูุณุชู ู ุญูููโูุง ุดุงูู ุณู ููุน ุงุตู ูโุดู:  
- **for loop**  
- **while loop**  
- **until loop**  

ุงู ุณุงุฎุชุงุฑูุง ุจุง ุงุณุชูุงุฏู ุงุฒ ุนุจุงุฑุงุช ููุทู (Boolean) ฺฉูุชุฑู ูโุดู ู ุจู ุดุฏุช ุฏุฑ ุงุชููุงุณููุ ุงุณฺฉู ุดุจฺฉูุ enumeration ู ฺฉุงุฑูุง ุชฺฉุฑุงุฑ ฺฉุงุฑุจุฑุฏ ุฏุงุฑู.

### **ุญููู for โ ูุฏุฑุชููุฏุชุฑู ุงุจุฒุงุฑ ุจุฑุง ฺฉุงุฑูุง ุชฺฉุฑุงุฑ**

ุญููู **for** ููุช ุนุงู ฺฉุงุฑ ูโฺฉูู ฺฉู ุงุฒ ูุจู ุจุฏููู ฺู ฺุฒูุง ุฑู ูโุฎูุงู ุชฺฉุฑุงุฑ ฺฉูู (ูุซู ูุณุช IPุ ูพูุฑุชุ ูุงู ู ...).

**ุณูุชฺฉุณ ูพุงู:**
```bash
for variable in ูุณุช_ููุงุฏุฑ
do
    ุฏุณุชูุฑุงุช
done
```

**ูุซุงูโูุง ฺฉุงุฑุจุฑุฏ ูุงูุน:**
```bash
# ฺุงูพ ุงุนุฏุงุฏ ฑ ุชุง ด
for i in 1 2 3 4; do echo $i; done

# ูพูฺฏ ฺฉุฑุฏู ฺูุฏ IP ููุฒูุงู
for ip in 10.10.10.179 10.10.10.174 10.10.10.175; do ping -c 1 $ip; done

# ุงุณฺฉู ุณุฑุน ฺูุฏ ูพูุฑุช ุจุง nmap
for port in 22 80 443 3389; do nmap -p $port --open 10.10.10.150; done
```

ุญุช ูโุชููู ุฏุฑ ฺฉ ุฎุท ุจููุณู:
```bash
for i in {1..255}; do ping -c 1 10.10.10.$i & done   # ุงุณฺฉู ุณุฑุน ฺฉ ุณุงุจูุช
```

### **ุญููู while ู until โ ููุช ุดุฑุท ูููู**

**while**: ุชุง ููุช ุดุฑุท ุจุฑูุฑุงุฑ ุจุงุดูุ ุงุฏุงูู ูโุฏู
```bash
i=1
while [ $i -le 10 ]; do
    echo "ุดูุงุฑุด: $i"
    ((i++))
done
```

**until**: ุจุฑุนฺฉุณ while ุนูู ูโฺฉูู โ ุชุง ููุช ุดุฑุท **ูุงุฏุฑุณุช** ุจุงุดู ุงุฏุงูู ูโุฏู
```bash
counter=1
until [ $counter -gt 10 ]; do
    echo $counter
    ((counter++))
done
```

**break ู continue ูู ุฏุงุฑู:**
- `break` โ ุฎุงุฑุฌ ุดุฏู ฺฉุงูู ุงุฒ ุญููู
- `continue` โ ูพุฑุด ุจู ุฏูุฑ ุจุนุฏ ุญููู

ูุซุงู ุจุง break:
```bash
counter=1
while true; do
    echo "ุดูุงุฑุด: $counter"
    ((counter++))
    if [ $counter -gt 5 ]; then
        break
    fi
done
```

### **ฺฉุงุฑุจุฑุฏ ูุงูุน ุฏุฑ ูพูุชุณุช (ูุซุงู ูพุดุฑูุชู)**

ูุฑุถ ฺฉู ูโุฎูุง ุชูุงู IPูุง ฺฉ ุฑูุฌ CIDR ุฑู ุงุณฺฉู ฺฉู ุง credential stuffing ุงูุฌุงู ุจุฏ:

```bash
# ูุซุงู: ุชุณุช ูพุณูุฑุฏูุง ุฑุงุฌ ุฑู ฺูุฏู ุณุฑูุฑ SSH
for ip in 10.10.10.{100..150}; do
    for pass in admin 123456 password123; do
        sshpass -p "$pass" ssh -o StrictHostKeyChecking=no user@$ip "whoami" && echo "[+] $ip:$pass ฺฉุงุฑ ฺฉุฑุฏ!"
    done
done
```

ุง ุชุฑฺฉุจ while ุจุง ุฎุฑูุฌ ุฏุณุชูุฑุงุช:
```bash
cat targets.txt | while read host; do
    nmap -sV --top-ports 1000 $host -oG - | grep open
done
```

### **ูฺฉุงุช ุทูุง ฺฉู ุจุงุฏ ุจุฏูู**

- ููุดู ุงุฒ **&** ุจุนุฏ ุงุฒ ุฏุณุชูุฑุงุช ุทููุงู ุงุณุชูุงุฏู ฺฉู ุชุง ุจู ุตูุฑุช ููุงุฒ ุงุฌุฑุง ุจุดู (ูุซูุงู ุงุณฺฉู ููุฒูุงู ฒตต IP)
- ุงุฒ `{1..254}` ุจู ุฌุง ููุดุชู ุฏุณุช ุงุนุฏุงุฏ ุงุณุชูุงุฏู ฺฉู
- ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุฎุทุง ูููุน ูุฌูุฏ ุงุณูพุณ ุฏุฑ ูุงู ูุงูโูุงุ ุงุฒ `IFS` ุง ูููโููู ุงุณุชูุงุฏู ฺฉู
- ุชุฑฺฉุจ `for` + `xargs` ุง `parallel` ุณุฑุนุช ุฑู ฺูุฏ ุจุฑุงุจุฑ ูโฺฉูู

ุงู ูุจุญุซ ฺฉ ุงุฒ ูููโุชุฑู ุจุฎุดโูุง ุงุณฺฉุฑูพุชโููุณ ุฏุฑ **Red Team**ุ **ุงุชููุงุณูู** ู **Bug Bounty** ูุณุช. ุงฺฏู ุงู ุญูููโูุง ุฑู ุฎูุจ ุงุฏ ุจฺฏุฑุ ูโุชูู ุฏุฑ ฺูุฏ ุฎุท ฺฉุฏุ ฺฉุงุฑูุง ุงูุฌุงู ุจุฏ ฺฉู ุฏุณุช ฺูุฏ ุณุงุนุช ุทูู ูโฺฉุดู! ๐
